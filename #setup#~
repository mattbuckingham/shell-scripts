#!/bin/bash

# check if shell is bash
if [ "$(echo $SHELL)" != "/bin/bash" ]
then
  chsh -s /bin/bash # change shell to bash
fi

#install apps
sudo apt install -y curl
sudo apt install -y git



## System Update and Upgrade
sudo apt update
sudo apt install --fix-missing -y
sudo apt upgrade --allow-downgrades -y

#Clean up
sudo apt install -f
sudo apt autoremove -y
sudo apt autoclean
sudo apt clean

# download aliases from GitHub repository
curl https://raw.githubusercontent.com/<username>/<repo>/<branch>/aliases -o ~/.bash_aliases

# source bash config
source ~/.bashrc

# add aliases to bashrc file
echo "if [ -f ~/.bash_aliases ]; then" >> ~/.bashrc
echo "  . ~/.bash_aliases" >> ~/.bashrc
echo "fi" >> ~/.bashrc

# source bashrc file
source ~/.bashrc

# install emacs
sudo apt-get update
sudo apt-get install emacs

# setup emacs config
echo "(setq inhibit-startup-message t)" >> ~/.emacs
echo "(scroll-bar-mode -1)" >> ~/.emacs
echo "(tool-bar-mode -1)" >> ~/.emacs
echo "(menu-bar-mode -1)" >> ~/.emacs
echo "(setq-default indent-tabs-mode nil)" >> ~/.emacs